[[!comment format=mdwn
 ip="127.0.0.1"
 subject="&quot;Protected GPT&quot; & rEFInd development"
 date="2012-05-10T16:49:17Z"
 content="""
I'm the author of the Linux GPT fdisk (gdisk, sgdisk, and cgdisk) partitioning tool, and I've also forked the (apparently defunct) rEFIt to the new rEFInd project. I'd like to comment on a couple of points raised here.

First, this is the first I've heard of anything called \"protected GPT\" in the sort of context of the IRC log that was just posted here. The word \"protected\" (or \"protective\" or similar words) sometimes appears in reference to the type-0xEE partition in the MBR of a standard GPT disk. This is a standard and necessary part of GPT, not a variant or corruption of it, as the IRC log implies. It's also possible that some utilities would describe the EFI System Partition (ESP) using a term such as \"protected GPT,\" but I don't know that for a fact. In any event, unless Apple has recently begun shipping yet another standards-violating GPT variant, GPT-format disks on Macs are *not* a problem for rEFIt, rEFInd, GRUB 2, or other EFI-capable boot managers or boot loaders. FWIW, the [hybrid MBR](http://www.rodsbooks.com/gdisk/hybrid.html) that Apple uses with Boot Camp violates the GPT specification, but EFI boot programs have long since adapted to this. Given Apple's history on this score, I can't rule out the possibility that they've recently come up with another standards-violating GPT variant. If so, though, I know nothing about it. If you have a pointer to hard data on this, or if you have such a system and would care to send me a backup of your GPT for analysis, I can look into this further. (See the [GPT fdisk Web page](http://www.rodsbooks.com/gdisk/) for my contact information.)

Second, rEFIt development seems to have ceased two years ago. That's why I forked rEFInd into a new project. I am, however, one person with limited resources. I own a grand total of one Intel-based Mac, and it's an elderly 32-bit Mac Mini. Thus, if there's something weird about the firmware in new Macs, my ability to test and correct this problem is severely limited -- I can't afford to buy every new Mac model that's released. Based on the extremely slim evidence I have so far, I suspect that Apple may have changed the way the BIOS compatibility mode is activated. If so, and if Apple has moved toward greater compatibility with UEFI standards, this new model might eventually be able to launch BIOS-based OSes from rEFInd if/when I get BIOS booting working from UEFI-based PCs. That is one of my goals for rEFInd, but I can make no promises about when this might work, or even if it will ever work.

There are real dollars-and-cents costs associated with software development. We open source programmers make our products available for free, but we bear the brunt of the costs. In the case of hardware-specific bugs, that means that they'll only get fixed if and when a developer gets ahold of the hardware that exhibits those bugs. Macs are pricey machines, and I for one can't afford to own very many Macs. Thus, any problem in rEFInd that relates to specific Mac models will get fixed when somebody who *does* own an affected model submits a patch, or when I can get my hands on one and find the time to track down and fix the problem. In some cases, I might be able to work with somebody by e-mail, phone, etc., to resolve a problem, but this can get quite tedious, especially if something requires extensive changes. That's the nature of open source development.

All that said, the description of the problem at the top of this page suggests that BIOS booting from an external device doesn't work, period. This means it's not really a rEFIt/rEFInd bug, but a limitation of the firmware. In fact, the rEFIt documentation notes something similar was known at least two years ago, so it may not even be a new bug. There might be a way to work around it in rEFInd, but another approach is to switch to EFI booting. This can be done by adding an EFI-enabled boot loader, such as ELILO or GRUB 2, to the USB flash drive. See my [EFI boot loaders Web page](http://www.rodsbooks.com/efi-bootloaders/) for information on several, as well as generic installation instructions. You can treat a USB flash drive like a hard disk for this purpose. It's a matter of copying a few files and creating a configuration file that can read the disk.
"""]]
