[[!comment format=mdwn
 username="str4d"
 ip="127.0.0.1"
 subject="Disclaimer: I am an I2P developer"
 date="2012-10-25T12:21:36Z"
 content="""
This has been a very interesting thread to read through ^_^ There are some good points, but also many misconceptions, some of which I would like to clarify (but in a subsequent post, or possibly a separate thread - thoughts, Tails?). But to pull this thread sharply back to its OT:

I2P is designed to be a total mixnet, where any router can connect to any other router (ideally - specific default limits are put in place to prevent I2P from overloading a user's connection limits). This means that every router is equal and no router stands out. There are floodfill routers which serve a purpose similar to Tor's directory servers, but these are managed automatically by the network rather than being centrally controlled (and the floodfill routers are almost always high-bandwidth, high-uptime, well-connected routers).

Traffic is shared by default on I2P partly because of this mixnet nature, and partly because of the network capacity that each I2P router requires to operate. I2P tunnels currently default to three hops in length, and both inbound and outbound tunnels are required due to a design choice of I2P to use unidirectional tunnels - Tor uses bidirectional circuits, so requires fewer nodes (there are pros and cons to both designs from an attack perspective; see http://www.i2p2.de/unidirectional-tunnels.html for further discussion). So six participating I2P routers are required just for a single tunnel. Then there may be additional in- and outbound tunnels for greater reliability, the tunnel lengths may be randomly increased to improve anonymity (using additional routers), and then there are exploratory tunnels as well (used to anonymously query the network database to find other routers).

So a new install of I2P can require over 30 other routers to participate in its default tunnels (one of my routers uses over 200 other routers to provide tunnels for all its services). New routers consume existing capacity within the I2P network, and so sharing is therefore encouraged in order to offset this. Most residential routers will only end up participating in a few, or maybe half a dozen tunnels, but this is generally enough to distribute the transmission load throughout the network.

We do understand that some users cannot afford to (or do not wish to) publish their IP addresses. In the majority of the world it should not be considered an issue; it is intentionally very difficult (of course ^_^) for the activity of I2P users to be tracked. Someone above compared I2P to BitTorrent - this is not a good comparison, because BitTorrent swarms transfer data directly between a seed and a leech, usually unencrypted, and so a BitTorrent connection between two computers can be used as evidence that those computers were sharing data. This argument cannot be applied to I2P, because no router knows what any adjacent router is sending or receiving, or what it is sending or receiving for that matter. All data packets are encrypted between the server and client, and they are additionally \"garlic-wrapped\" in encryption along the tunnel and between each hop in the tunnel, so that routers participating in a user's tunnel cannot tell what they are sending, or even what position they are in the tunnel. This (and other features) means that a TCP or UDP connection between two I2P routers cannot be used as evidence of data sharing - in fact, given the existence of tunnels, it is far more probably that they are not sharing data!

However, there are countries which would be happy enough to just block any I2P user regardless of what they might be doing (though to my knowledge there have been no such blocks), and so for users in those countries (or more wary users elsewhere) \"hidden mode\" disables publishing of the router's IP:port in the network database. This prevents other routers from finding your router, and so prevents them from building tunnels through you. However, it does not prevent your router from connecting to other routers in the network (as outlined above, this is necessary for I2P to function), and your IP could still be found via monitoring connections to other known I2P routers (or by an ISP monitoring connections). This is not something I2P tries to prevent at this stage (as above, knowing that you run I2P does not prove you are doing anything bad), though there are future plans for alternative transports (e.g. a TLS/SSL-like transport, or maybe something using ICMP, DNS, or IPoAC ;P )

So, what would be best for Tails users? The feeling I get from the above thread is that the standard use case for Tails is to boot it up off a CD or read-only USB, use it for anywhere between a few hours and a day, and then shut it down. As mentioned in a comment above, I2P functions better the longer your router is running, as it has time to integrate into the network, find more peers, determine the fast peers etc. What the I2P network has difficulty handling is a large number of \"transient leeches\" - routers that turn on for maybe four hours, heavily use the network, and then disappear. These routers very quickly use up free network capacity (leading to a global drop in both network speeds and the success rate of tunnel builds) but never integrate well-enough to contribute back (leading to a global drop in tunnel build success). The worst I've experienced was in the Rusleaks era - several thousand routers in Russia periodically and near-simultaneously turning on and off was Not Fun (TM). Transient routers in \"hidden mode\" are somewhat better for the network, since other routers will never try to connect to them and tunnels will not be broken when the router disconnects, but they do still use up extra capacity.

So, to sum up: enabling or disabling \"hidden mode\" is a swings-and-roundabouts kind of choice. Disabling it will blend the router in with the rest of the network, while enabling it will make the router harder to find initially. Neither enabling nor disabling will greatly change the effect that transient routers will have on the network, but enabling \"hidden mode\" will at least prevent quick shutdown of the router from destroying the tunnels of other users.

(As a side note, \"hidden mode\" can be enabled prior to starting the router by setting or updating the keys  
i2np.udp.addressSources=hidden  
router.isHidden=true  
in router.config in the I2P config directory - ~/.i2p/ - though does this directory already exist on Tails? If not, the default router.config (which is copied into ~/.i2p/ if it doesn't exist) should be edited before starting.)

Sorry for the rather extended comment, but hopefully things are a bit clearer now. I'm happy to answer some questions here, or you can always pop into #i2p-help on our IRC network ( 127.0.0.1/6668 on new router installs).
"""]]
