[[!meta title="Git repositories"]]

<div id="intro">

<p>Tails and its website are developed in several Git repositories.</p>

<p><span class="application">Git</span> is a distributed version control
system. It allows several people to work on the same source code and
handle changes in a distributed and efficient way.</p>

<p>To learn more about <span class="application">Git</span>, refer to
its <a href="http://git-scm.com/">homepage</a>, and <a
href="http://git-scm.com/documentation">official documentation</a>.</p>

<p><strong>Related pages</strong></p>

<ul>
  <li>[[contribute/merge_policy]]</li>
</ul>

<p><strong>Table of contents</strong></p>

[[!toc levels=3]]

</div>

<a id="general-information"></a>

General information
===================

immerda's documentation
-----------------------

WIP: we're in the process of [[migrating all our Git repositories to
immerda|todo/migrate_Git_repositories_to_immerda]].

* [immerda's documentation about their Git hosting
  setup](https://wiki.immerda.ch/index.php/GitRepositoriesImmerda)
* [immerda's SSL and SSH fingerprints](https://www.immerda.ch/services/certs.html)

Caution!
--------

If you want to commit patches that may be published later, you might
want to anonymize them a bit; to do so, run the following commands
in every of your local clones' directories:

	git config user.name 'Tails developers'
	git config user.email amnesia@boum.org

If you intend to prepare Tails releases, you'll also need to make
the development team signing key the default one for Git tags:

	git config user.signingkey 1202821CBE2CD9C1

Creating a new repository
-------------------------

1. Create a repository at immerda.
2. Add a section to this page.

Repositories
============

Main repository
---------------

This repository contains the Tails source code and the wiki source.

Anyone can check it out like this:

	git clone git://git.immerda.ch/amnesia.git

Developers with write access to the repositories should instead:

	git clone 'ssh://boum_org_amnesia@webmasters.boum.org/~/wiki.git'

We have a Gitweb available for [the main
repository](http://git.immerda.ch/?p=amnesia.git).

### Branches

Tails development uses several branches modeled a bit like the
Debian development process. Here they are.

#### master

The `master` branch is used by the online wiki.

**FIXME**: document what should go in there, when other branches are
merged into it, etc.

#### stable

The `stable` branch is intended to contain:

- the state of the code tagged for the last stable release
- fixes for security or important bugs.

Its purpose is to prepare minor releases.

#### testing

The `testing` branch is used to prepare an imminent release: at some
point of the development process, the `devel` branch code is merged
into `testing`, freezed, and endures careful testing and bug-fixing
until this branch is considered good enough to become a stable
release. The `testing` branch is then merged into the `stable` and
`master` ones, images built and shipped and we go back to code shiny
new stuff in the `devel` branch.

Please note that the `testing` branch generally has not been granted
the same testing and attention as code that has made it into a
stable release: please use it for testing purposes but do not rely
on it for anything. No guarantee, blablabla.

#### devel

Most of the development work that is done in Tails, is done in the
`devel` branch. This branch will never get released; instead, code
from it will be merged into testing and then into a real release.

Please note that the `devel` branch can be broken, have awful security
problems and so on. No guarantee, blablabla.

The `master` branch is merged into `devel` from time to time.

#### Topic branches

We use topic branches called `bugfix/*` and
`feature/*`, respectively aimed at fixing a single bug and
implementing a single new feature. Once ready, a topic branch is
merged (with `--no-ff`) into the appropriate branch (generally
`devel`). Until it has been merged, a topic branch's history may be
rewritten, e.g. it may be rebased on top of `devel`.

Unless there are good reasons to do otherwise, bugfix branches must be
forked off the latest stable release tag, while feature branches
should are forked off the devel branch.

#### experimental

Generally, it's `devel` plus a few topic branches merged in.
These topic branches are not ready enough to be merged into devel, but
we seriously would like to get them fit for the next stable release,
so this branch serves to test all these new features and bugfixes by
building / getting a single image. The history of this branch is
frequently rewritten and must no be used as the basis of
any development.

Please note that the `experimental` branch can be broken, have awful
security problems and so on. No guarantee, blablabla.

live-boot
---------

Anyone can check it out like this:

	git clone git://git.tails.boum.org/live-boot.git

Developers with write access to the repositories should instead:

	git clone tails@git.tails.boum.org:live-boot.git

We have a [web interface](https://git-tails.immerda.ch/live-boot/)
available for our custom live-boot.

live-config
-----------

Anyone can check it out like this:

	git clone git://git.tails.boum.org/live-config.git

Developers with write access to the repositories should instead:

	git clone tails@git.tails.boum.org:live-config.git

We have a [web interface](https://git-tails.immerda.ch/live-config/)
available for our custom live-config.

<a id="liveusb-creator"></a>

liveusb-creator
---------------

The program used to install USB stick is customized version of [Fedora LiveUSB
Creator](https://fedorahosted.org/liveusb-creator/).

Anyone can check it out like this:

	git clone git://git.tails.boum.org/liveusb-creator.git

Developers with write access to the repositories should instead:

	git clone tails@git.tails.boum.org:liveusb-creator.git

We have a [web
interface](https://git-tails.immerda.ch/liveusb-creator/) and
a [[release process|release_process/liveusb-creator]] available for
liveusb-creator.

<a id="sikuli-wrapper"></a>

sikuli-wrapper
--------------

sikuli-wrapper is a tiny interface that gives access to
[Sikuli](http://sikuli.org)'s features over a TCP port, for use in any
programming language.

Anyone can check it out like this:

	git clone git://git.tails.boum.org/sikuli-wrapper.git

Developers with write access to the repositories should instead:

	git clone tails@git.tails.boum.org:sikuli-wrapper.git

We have a web interface available for [sikuli-wrapper](https://git-tails.immerda.ch/sikuli-wrapper/).

<a id="tails-greeter"></a>

tails-greeter
-------------

Tails Greeter is the set of dialogs that allows to define [[startup
options|/doc/first_steps/startup_options#tails_greeter]].

Anyone can check it out like this:

	git clone git://git.immerda.ch/tails/tails-greeter.git

Developers with write access to the repositories should instead:

	git clone git@git.immerda.ch:tails/tails-greeter.git

We have a Gitweb available for [tails-greeter](http://git.immerda.ch/?p=tails/tails-greeter.git)
and a [[release process|release_process/tails-greeter]].

<a id="tails-iuk"></a>

tails-iuk
---------

Anyone can check it out like this:

	git clone git://git.tails.boum.org/iuk.git

Developers with write access to the repositories should instead:

	git clone tails@git.tails.boum.org:iuk.git

We have a Gitweb available for [tails-greeter](https://git-tails.immerda.ch/iuk/).

<a id="tails-persistence-setup"></a>

tails-persistence-setup
-----------------------

Anyone can check it out like this:

	git clone git://git.tails.boum.org/persistence-setup.git

Developers with write access to the repositories should instead:

	git clone tails@git.tails.boum.org:persistence-setup.git

We have a [web
interface](https://git-tails.immerda.ch/persistence-setup/) and
a [[release process|release_process/persistence-setup]] available for
tails-persistence-setup.

<a id="torbutton"></a>

Torbutton
---------

Anyone can check it out like this:

	gbp-clone --no-pristine-tar git://git.tails.boum.org/torbutton.git

Developers with write access to the repositories should instead:

	gbp-clone --no-pristine-tar tails@git.tails.boum.org:torbutton.git

We have a [web interface](https://git-tails.immerda.ch/torbutton/)
and a [[release process|release_process/Torbutton]] available for Torbutton.

<a id="vidalia"></a>

Vidalia
-------

Anyone can check it out like this:

	git clone git://git.tails.boum.org/vidalia.git

Developers with write access to the repositories should instead:

	git clone tails@git.tails.boum.org:vidalia.git

We have a [web interface](https://git-tails.immerda.ch/vidalia/)
available for our custom Vidalia.

<a id="firegpg"></a>

FireGPG
-------

Anyone can check it out like this:

	git clone git://git.tails.boum.org/firegpg.git

Developers with write access to the repositories should instead:

	git clone tails@git.tails.boum.org:firegpg.git

We have a web interface available for [our custom
FireGPG](https://git-tails.immerda.ch/firegpg/).

htp
---

Anyone can check it out like this:

	git clone git://git.tails.boum.org/htp.git

Developers with write access to the repositories should instead:

	git clone tails@git.tails.boum.org:htp.git

We have a [web interface](https://git-tails.immerda.ch/htp/) available
for our custom htp.

icedove
-------

Anyone can check it out like this:

	git clone git://labs.riseup.net/tails_icedove.git

Developers with write access to the repositories should instead:

	git clone gitosis@labs.riseup.net:tails_icedove.git

iceweasel
---------

Anyone can check it out like this:

	git clone git://labs.riseup.net/tails_iceweasel.git

Developers with write access to the repositories should instead:

	git clone gitosis@labs.riseup.net:tails_iceweasel.git

See the [[release process|release_process/iceweasel]].

<a id="whisperback"></a>

WhisperBack
-----------

Whisperback allows to [[report bugs|/doc/first_steps/bug_reporting]] from
inside Tails.

Anyone can check it out like this:

	git clone git://git.tails.boum.org/whisperback.git

Developers with write access to the repositories should instead:

	git clone tails@git.tails.boum.org:whisperback.git

We have a [web interface](https://git-tails.immerda.ch/whisperback/)
available for whisperback.

Puppet modules
--------------

Those who have SSH access to these repositories must configure their
SSH client a bit, e.g.:

	Host git.puppet.tails.boum.org
		HostName d53ykjpeekuikgoq.onion
		ProxyCommand torsocks monkeysphere ssh-proxycommand %h %p

### tails

This is the main *public* Puppet module to manage Tails infrastructure,
including classes such as `tails::reprepro` and `tails::whisperback::relay`.

Anyone can check it out like this:

	git clone git://git.puppet.tails.boum.org/puppet-tails

Developers with write access to the repositories should instead:

	git clone gitolite@git.puppet.tails.boum.org:puppet-tails

### tails_lizard_manifests

Developers with access to the APT secrets can check it out like this:

	git clone gitolite@git.puppet.tails.boum.org:puppet-lizard-manifests

### tails_secrets_apt

Developers with access to the APT secrets can check it out like this:

	git clone gitolite@git.puppet.tails.boum.org:puppet-tails_secrets_apt

### tails_secrets_whisperback

Developers with access to the WhisperBack secrets can check it out like this:

	git clone gitolite@git.puppet.tails.boum.org:puppet-tails_secrets_whisperback

Jenkins jobs
------------

Our jenkins jobs written in YAML for jenkins-job-builder to configure them in
our jenkins installation can be checked out like this:

	git clone git://git.puppet.tails.boum.org/jenkins-jobs

Developers with write access to the repositories should instead:

	git clone gitolite@git.puppet.tails.boum.org:jenkins-jobs
