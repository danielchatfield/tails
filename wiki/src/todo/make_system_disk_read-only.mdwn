(Redirected from [[bugs/writable_system_disk:_belongs_to_floppy_group]].)

Tails is affected by [[!debbug 645466]].

[[!toc levels=2]]

The problem
===========

In short: the system USB disk and partition block devices (e.g.
`/dev/sdb*`) are writable by the default Live user, because they
belong to the `floppy` group.

This was fixed in Tails 0.12 (see
`config/chroot_local_includes/lib/live/config/998-permissions`) but
the bug has since reappeared so the bug is now reopened. Our `udev`
packages hasn't been updated since, but perhaps the `udev` init script
runs (or re-runs?) after `live-config` wheras it previously only ran
before?

Roadmap
=======

1. [[!taglink todo/wait]] for bilibop-udev to be nicely installable;
   if that does not happen, workaround its postinst failure:
   see the *Help needed with branch bugfix/writable_boot_media* thread
   on tails-dev for details.
1. Do policykit and udisk take into account the group ownership? Needs to
   be tested.
1. When this bug is fixed, we can re-enable the `the boot device has safe
   access rights` step in `features/usb_install.feature` of the automated
   test suite.

Candidate solutions
===================

This is being discussed in the *Help needed with branch
bugfix/writable_boot_media* thread on tails-dev.

home-made udev rules
--------------------

See branch `bugfix/writable_boot_media` for a new fix using `udev`.

> First review done, a bit more [[!taglink todo/code]] is needed.

bilibop
-------

See also [bilibop](https://un.poivron.org/~quidame/bilibop_project/):
it's potential usefulness for Tails was discussed on the [[!debbug
675467 desc="ITP"]] and [[!debbug 675532 desc="RFS"]] bugs.

`bilibop-udev` 0.4.10~quidame does is job once installed in Tails
0.17.2 at runtime.

Our `feature/bilibop` branch installs bilibop-udev, or at least
tries to as the postinst fails. Note that we don't need this postinst.
