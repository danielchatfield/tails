[[!tag todo/research]]

For many reasons we want to have the same behaviour in iceweasel as in
the TBB/TorBrowser. Below is a diff between the configs in Tails devel
and [TorBrowser master](https://gitweb.torproject.org/torbrowser.git).
Let's discuss what we want, if anything.

## Specific configurations cited from full diff



## Full diff

    --- tails	2011-12-01 11:11:46.432350960 +0000
    +++ tbb	2011-12-01 11:11:52.312218789 +0000
    @@ -1,90 +1,94 @@
     pref("app.update.auto", false);
    -pref("app.update.disable_button.showUpdateHistory", false);
     pref("app.update.enabled", false);
    +pref("app.update.lastUpdateTime.addon-background-update-timer", 1216566538);
    +pref("app.update.lastUpdateTime.background-update-timer", 1216566535);
    +pref("app.update.lastUpdateTime.blocklist-background-update-timer", 1216566538);
    +pref("app.update.lastUpdateTime.microsummary-generator-update-timer", 1232574822);
    +pref("app.update.lastUpdateTime.search-engine-update-timer", 1216566539);
     pref("browser.bookmarks.livemark_refresh_seconds", 31536000);
     pref("browser.cache.disk.capacity", 0);
     pref("browser.cache.disk.enable", false);
    +pref("browser.cache.disk.smart_size.enabled", false);
    +pref("browser.cache.disk.smart_size.first_run", false);
     pref("browser.cache.offline.enable", false);
     pref("browser.chrome.favicons", false);
     pref("browser.chrome.image_icons.max_size", 0);
     pref("browser.chrome.site_icons", false);
    -pref("browser.download.manager.closeWhenDone", true);
    -pref("browser.download.manager.retention", 0);
    +pref("browser.download.manager.retention", 1);
     pref("browser.download.useDownloadDir", false);
     pref("browser.formfill.enable", false);
    -pref("browser.history_expire_days", 0);
     pref("browser.history_expire_days.mirror", 0);
     pref("browser.microsummary.updateGenerators", false);
    -pref("browser.privatebrowsing.autostart", true);
    +pref("browser.migration.version", 5);
    +pref("browser.places.importBookmarksHTML", false);
    +pref("browser.places.importDefaults", false);
    +pref("browser.places.leftPaneFolderId", -1);
    +pref("browser.places.migratePostDataAnnotations", false);
    +pref("browser.places.smartBookmarksVersion", 2);
    +pref("browser.places.updateRecentTagsUri", false);
    +pref("browser.preferences.advanced.selectedTabIndex", 0);
    +pref("browser.privatebrowsing.autostart", false);
    +pref("browser.rights.3.shown", true);
     pref("browser.safebrowsing.enabled", false);
     pref("browser.safebrowsing.malware.enabled", false);
    -pref("browser.safebrowsing.remoteLookups", false);
     pref("browser.search.suggest.enabled", false);
     pref("browser.search.update", false);
    -pref("browser.send_pings", false);
    -pref("browser.sessionstore.enabled", false);
     pref("browser.sessionstore.privacy_level", 2);
     pref("browser.shell.checkDefaultBrowser", false);
    -pref("browser.startup.homepage_override.mstone", "ignore");
    +pref("browser.startup.homepage", "https://check.torproject.org/?lang=en-US&small=1");
    +pref("browser.startup.homepage_override.buildID", "20110325121920");
    +pref("browser.startup.homepage_override.mstone", "rv:2.0");
    +pref("browser.urlbar.autocomplete.enabled", true);
     pref("capability.policy.maonoscript.javascript.enabled", "allAccess");
    -pref("capability.policy.maonoscript.sites", "https://auk.riseup.net https://mail.riseup.net https://swift.riseup.net https://tern.riseup.net https://webmail.no-log.org about: about:blank about:certerror about:config about:credits about:neterror about:plugins about:privatebrowsing about:sessionrestore chrome: file:// https://webmail.boum.org resource:");
    +pref("capability.policy.maonoscript.sites", "addons.mozilla.org about: about:addons about:blank about:blocked about:certerror about:config about:crashes about:credits about:home about:neterror about:plugins about:privatebrowsing about:sessionrestore chrome: resource:");
     pref("dom.event.contextmenu.enabled", false);
     pref("dom.storage.enabled", false);
    -pref("extensions.adblockplus.showintoolbar", false);
    -pref("extensions.adblockplus.synchronizationinterval", 8766);
    -pref("extensions.firegpg.activate_inline", false);
    -pref("extensions.firegpg.assisant_has_already_been_executed", true);
    -pref("extensions.firegpg.enable_gpgapi", false);
    -pref("extensions.firegpg.gmail_enabled", false);
    -pref("extensions.firegpg.gpg_version", "FIREGPG_VERSION");
    -pref("extensions.firegpg.keyserver", "hkp://2eghzlv2wwcq7u7y.onion");
    -pref("extensions.firegpg.show_website", false);
    -pref("extensions.foxyproxy.last-version", "99999.99");
    -pref("extensions.torbutton.block_nthread", true);
    -pref("extensions.torbutton.block_nthwrite", true);
    -pref("extensions.torbutton.block_tforms", false);
    -pref("extensions.torbutton.clear_cookies", true);
    -pref("extensions.torbutton.cookie_jars", false);
    -pref("extensions.torbutton.display_panel", false);
    +pref("extensions.autoDisableScopes", 0);
    +pref("extensions.bootstrappedAddons", "{}");
    +pref("extensions.bprivacy.DataDir", "/Users/erinn/Library/Preferences/Macromedia");
    +pref("extensions.bprivacy.donotaskforfolder", true);
    +pref("extensions.bprivacy.donotaskonexit", true);
    +pref("extensions.bprivacy.initiated", true);
    +pref("extensions.checkCompatibility.4.*", false);
    +pref("extensions.checkUpdateSecurity", true);
    +pref("extensions.databaseSchema", 3);
    +pref("extensions.enabledAddons", "https-everywhere@eff.org:0.9.9.development.4,{73a6fe31-595d-460b-a920-fcc0f8843232}:2.1.0.3,{d40f5e7b-d2cf-4856-b441-cc613eeffbe3}:1.50,{e0204bd5-9d31-402b-a99d-a6aa8ffebdca}:1.3.3-alpha");
    +pref("extensions.enabledItems", "langpack-en-US@firefox.mozilla.org:,{73a6fe31-595d-460b-a920-fcc0f8843232}:1.9.9.57,{e0204bd5-9d31-402b-a99d-a6aa8ffebdca}:1.2.4,{972ce4c6-7e08-4474-a285-3208198ce6fd}:3.5.8");
    +pref("extensions.enabledScopes", 1);
    +pref("extensions.pendingOperations", false);
     pref("extensions.torbutton.fresh_install", false);
    -pref("extensions.torbutton.google_redir_url", 4);
    -pref("extensions.torbutton.http_port", 8118);
    -pref("extensions.torbutton.http_proxy", "127.0.0.1");
    -pref("extensions.torbutton.https_port", 8118);
    -pref("extensions.torbutton.https_proxy", "127.0.0.1");
    -pref("extensions.torbutton.launch_warning", false);
     pref("extensions.torbutton.locked_mode", true);
    -pref("extensions.torbutton.nonontor_sessionstore", true);
    -pref("extensions.torbutton.nontor_memory_jar", true);
    -pref("extensions.torbutton.normal_exit", true);
    -pref("extensions.torbutton.no_updates", true);
    -pref("extensions.torbutton.prompted_language", true);
    +pref("extensions.torbutton.proxies_applied", true);
     pref("extensions.torbutton.restore_tor", true);
    -pref("extensions.torbutton.saved.download_retention", 0);
    -pref("extensions.torbutton.saved.search_suggest", false);
    +pref("extensions.torbutton.saved.auto_update", false);
     pref("extensions.torbutton.saved.share_proxy_settings", false);
    -pref("extensions.torbutton.saved.socks_remote_dns", true);
     pref("extensions.torbutton.saved.socks_version", 5);
    -pref("extensions.torbutton.saved.type", 5);
    +pref("extensions.torbutton.settings_applied", true);
     pref("extensions.torbutton.socks_host", "127.0.0.1");
     pref("extensions.torbutton.socks_port", 9050);
    -pref("extensions.torbutton.spoof_english", true);
    -pref("extensions.torbutton.startup_state", 1);
    -pref("extensions.torbutton.startup", true);
    +pref("extensions.torbutton.tor_enabled", true);
     pref("extensions.torbutton.tor_memory_jar", true);
     pref("extensions.torbutton.tz_string", "UTC+00:00");
    -pref("extensions.torbutton.warned_ff3", true);
    -pref("extensions.update.enabled", false);
    +pref("extensions.update.enabled", true);
     pref("extensions.update.notifyUser", false);
    +pref("general.appname.override", "Netscape");
    +pref("general.appversion.override", "5.0 (Windows; en-US)");
    +pref("general.buildID.override", "0");
    +pref("general.oscpu.override", "Windows NT 6.1");
    +pref("general.platform.override", "Win32");
    +pref("general.productSub.override", "20100401");
    +pref("general.useragent.locale", "en-US");
    +pref("general.useragent.override", "Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.3) Gecko/20100401 Firefox/3.6.3");
    +pref("general.useragent.vendor", "");
    +pref("general.useragent.vendorSub", "");
     pref("geo.enabled", false);
     pref("geo.wifi.uri", "");
    -pref("intl.locale.matchOS", true);
    -pref("layout.css.report_errors", false);
    -pref("layout.spellcheckDefault", 0);
    +pref("intl.accept_languages", "en-us, en");
    +pref("intl.charsetmenu.browser.cache", "UTF-8");
     pref("network.cookie.cookieBehavior", 1);
     pref("network.cookie.lifetimePolicy", 2);
     pref("network.cookie.prefsMigrated", true);
    -pref("network.dns.disableIPv6", true);
    +pref("network.hosts.pop_server", "");
     pref("network.http.pipelining.maxrequests", 8);
     pref("network.http.pipelining.ssl", true);
     pref("network.http.pipelining", true);
    @@ -93,61 +97,61 @@
     pref("network.protocol-handler.external.mailto", false);
     pref("network.protocol-handler.external.news", false);
     pref("network.protocol-handler.external.nntp", false);
    -pref("network.protocol-handler.external.snews", false)
    -pref("network.protocol-handler.warn-external.file", true);
    +pref("network.protocol-handler.external.snews", false);
     pref("network.protocol-handler.warn-external.mailto", true);
     pref("network.protocol-handler.warn-external.news", true);
     pref("network.protocol-handler.warn-external.nntp", true);
     pref("network.protocol-handler.warn-external.snews", true);
    -pref("network.proxy.failover_timeout", 0);
    -pref("network.proxy.http", "127.0.0.1");
    -pref("network.proxy.http_port", 8118);
     pref("network.proxy.socks", "127.0.0.1");
     pref("network.proxy.socks_port", 9050);
     pref("network.proxy.socks_remote_dns", true);
    -pref("network.proxy.ssl", "127.0.0.1");
    -pref("network.proxy.ssl_port", 8118);
     pref("network.proxy.type", 1);
     pref("network.security.ports.banned", "8118,8123,9050,9051");
     pref("noscript.ABE.enabled", false);
     pref("noscript.ABE.notify", false);
    -pref("noscript.httpsForcedExceptions", "");
    -pref("noscript.httpsForced", "*twitter.com *facebook.com blog.torproject.org www.torproject.org docs.google.com addons.mozilla.org www.stumbleupon.com boum.org tails.boum.org mail.google.com mail.riseup.net webmail.no-log.org webmail.boum.org");
    -pref("noscript.notify.hide", true);
    +pref("noscript.ABE.wanIpAsLocal", false);
    +pref("noscript.autoReload", false);
    +pref("noscript.contentBlocker", true);
    +pref("noscript.default", "about:blank about:credits addons.mozilla.org flashgot.net google.com gstatic.com googlesyndication.com informaction.com yahoo.com yimg.com maone.net noscript.net hotmail.com msn.com passport.com passport.net passportimages.com live.com");
    +pref("noscript.firstRunRedirection", false);
    +pref("noscript.forbidWebGL", true);
    +pref("noscript.global", true);
    +pref("noscript.gtemp", "");
    +pref("noscript.opacizeObject", 3);
    +pref("noscript.options.tabSelectedIndexes", "5,0,0");
     pref("noscript.policynames", "");
    -pref("noscript.secureCookiesForced", "*torproject.org *github.com *facebook.com *twitter.com boum.org tails.boum.org mail.google.com mail.riseup.net webmail.no-log.org webmail.boum.org");
     pref("noscript.secureCookies", true);
    -pref("noscript.showAddress", true);
     pref("noscript.showAllowPage", false);
    +pref("noscript.showBaseDomain", false);
     pref("noscript.showDistrust", false);
    -pref("noscript.showDomain", true);
    -pref("noscript.showGlobal", false);
    -pref("noscript.showPermanent", false);
     pref("noscript.showRecentlyBlocked", false);
     pref("noscript.showRevokeTemp", false);
     pref("noscript.showTempAllowPage", false);
     pref("noscript.showTemp", false);
     pref("noscript.showTempToPerm", false);
     pref("noscript.showUntrusted", false);
    -pref("noscript.untrusted", "google-analytics.com google.com file:// http://google-analytics.com http://google.com https://google-analytics.com https://google.com");
    -pref("pref.privacy.disable_button.cookie_exceptions", false);
    -pref("pref.privacy.disable_button.view_cookies", false);
    -pref("pref.privacy.disable_button.view_passwords", false);
    -pref("privacy.item.cookies", true);
    -pref("privacy.item.offlineApps", true);
    -pref("privacy.item.passwords", true);
    -pref("privacy.sanitize.didShutdownSanitize", true);
    -pref("privacy.sanitize.promptOnSanitize", false);
    -pref("privacy.sanitize.sanitizeOnShutdown", true);
    -pref("security.disable_button.openCertManager", false);
    +pref("noscript.STS.enabled", false);
    +pref("noscript.subscription.lastCheck", -142148139);
    +pref("noscript.temp", "");
    +pref("noscript.untrusted", "");
    +pref("places.history.enabled", false);
    +pref("places.history.expiration.transient_current_max_pages", 120795);
    +pref("plugin.disable_full_page_plugin_for_types", "application/asx,video/x-ms-asf-plugin,application/x-mplayer2,video/x-ms-asf,video/x-ms-wm,audio/x-ms-wma,audio/x-ms-wax,video/x-ms-wmv,video/x-ms-wvx,application/x-drm-v2,application/x-drm");
    +pref("plugin.expose_full_path", true);
    +pref("plugin.scan.4xPluginFolder", false);
    +pref("plugin.scan.Acrobat", "99.0");
    +pref("plugin.scan.plid.all", false);
    +pref("plugin.scan.Quicktime", "99.0");
    +pref("plugin.scan.SunJRE", "99.0");
    +pref("plugin.scan.WindowsMediaPlayer", "99.0");
    +pref("privacy.sanitize.migrateFx3Prefs", true);
     pref("security.enable_java", false);
    -pref("security.enable_ssl2", false);
    -pref("security.enable_ssl3", true);
    -pref("security.enable_tls", true);
    -pref("security.warn_leaving_secure", true);
    -pref("security.warn_submit_insecure", true);
    -pref("security.xpconnect.plugin.unrestricted", false);
    -pref("signon.prefillForms", false);
     pref("signon.rememberSignons", false);
    +pref("torbrowser.version", "2.2.34-3-Linux-i686");
    +pref("urlclassifier.keyupdatetime.https://sb-ssl.google.com/safebrowsing/newkey", 1235166825);
    +pref("urlclassifier.tableversion.goog-black-enchash", "1.55536");
    +pref("urlclassifier.tableversion.goog-black-url", "1.23256");
    +pref("urlclassifier.tableversion.goog-white-domain", "1.481");
    +pref("urlclassifier.tableversion.goog-white-url", "1.371");
     pref("xpinstall.whitelist.add", "");
    -pref("xpinstall.whitelist.add.103", "");
    +pref("xpinstall.whitelist.add.36", "");
