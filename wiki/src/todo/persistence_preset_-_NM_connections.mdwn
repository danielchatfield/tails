[[!tag todo/code]]

Saving NetworkManager connections (especially for wireless and
[[VPN|todo/vpn_support]]) would be quite handy. We already have a
preset for the GNOME keyring, which saves the passwords. The passwords
are tagged with a uuid generated by NM, but without persistent NM
connections these passwords are orphaned since a new uuid will be
generated for the same connection during the next boot.

The NM connections are saved with gconf in the directory
`/system/network/connections`. Unfortunately it's not enough to make a
preset that just makes `~/.gconf/system/network/connections`
persistent; when persistence is activated, `~/.gconf/system` doesn't
exist, so its created, as are the other subdirs. Since `live-persist`
cannot know better, the `%gconf.xml%` files are not created, and these
are required (even if empty) in each directory to make them valid in
gconf's eyes.

If we want to support persistent gconf settings in general we need to
make a hook that (recursively) creates an empty `%gconf.xml%` file in
each subdirectory of `~/.gconf` that lacks it. The hook must runs
after persistence is activated, but before the `amnesia` users session
starts. It seems like a job for `tails-greeter`.
